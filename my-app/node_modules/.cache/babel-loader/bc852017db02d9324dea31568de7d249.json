{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\jocel\\\\Desktop\\\\simple-todo-application\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"C:\\\\Users\\\\jocel\\\\Desktop\\\\simple-todo-application\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import _createForOfIteratorHelper from\"C:\\\\Users\\\\jocel\\\\Desktop\\\\simple-todo-application\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";import React,{useState}from'react';import logo from\"./logo.svg\";import'./App.css';function App(){var key='my_todo_tasks';var defaultValue=[{content:'Complete Assignment 2',tags:'grading,ischool',isCompleted:false},{content:'Complete Lab 3',tags:undefined,isCompleted:false}];var stored=localStorage.getItem(key);var todo_txt=[];var initial_todo;if(stored){var stored_value=JSON.parse(stored);initial_todo=[];var _iterator=_createForOfIteratorHelper(stored_value),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var value=_step.value;var this_object={};if(value.startsWith(\"x \")){this_object.isCompleted=true;value=value.slice(2);}var splitted=value.split('@').map(function(v){return v.trim();});this_object.content=splitted.shift();if(splitted.length>0){var tags=splitted.join();this_object.tags=tags;}initial_todo.push(this_object);}}catch(err){_iterator.e(err);}finally{_iterator.f();}}else{initial_todo=defaultValue;var _iterator2=_createForOfIteratorHelper(initial_todo),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var v=_step2.value;var this_string='';if(v.isCompleted){this_string+='x ';}this_string+=v.content;if(v.tags){var _tags=v.tags.split(',');var _iterator3=_createForOfIteratorHelper(_tags),_step3;try{for(_iterator3.s();!(_step3=_iterator3.n()).done;){var tag=_step3.value;this_string=this_string+' @'+tag;}}catch(err){_iterator3.e(err);}finally{_iterator3.f();}}todo_txt.push(this_string.trim());}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}localStorage.setItem(key,JSON.stringify(todo_txt));};var _useState=useState(initial_todo),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];function CreateTodo(){var newTodos=_toConsumableArray(todos);var handleSubmit=function handleSubmit(event){event.preventDefault();var new_content=event.target.todo_item.value;var new_tags=event.target.todo_tag.value;if(new_content!==\"\"){newTodos.push({content:new_content,tags:new_tags,isCompleted:false});// submitting an empty form will have no actual effect\nsetTodos(newTodos);var current_string=JSON.parse(localStorage.getItem(key));var this_string='';this_string+=new_content;this_string+=' ';if(new_tags){var _tags2=new_tags.split(',');var _iterator4=_createForOfIteratorHelper(_tags2),_step4;try{for(_iterator4.s();!(_step4=_iterator4.n()).done;){var tag=_step4.value;this_string=this_string+'@'+tag+' ';}}catch(err){_iterator4.e(err);}finally{_iterator4.f();}}current_string.push(this_string.trim());localStorage.setItem(key,JSON.stringify(current_string));}};return/*#__PURE__*/React.createElement(\"div\",{className:\"todo-container\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit,className:\"todo-form\",autoComplete:\"off\"},/*#__PURE__*/React.createElement(\"input\",{className:\"td-input\",type:\"text\",name:\"todo_item\",placeholder:\"I need to...\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{className:\"td-input\",type:\"text\",name:\"todo_tag\",placeholder:\"tag1,tag2...(Optional)\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"custom-button\"},\"Add\")));}function updateTodoAtIndex(event,index){var temporaryTodos=_toConsumableArray(todos);temporaryTodos[index].content=event.target.value;setTodos(temporaryTodos);var current_string=JSON.parse(localStorage.getItem(key));var a=current_string[index];a=a.split('@');a[0]=temporaryTodos[index].content;for(var i=1;i<a.length;i++){a[i]='@'+a[i];a[i]=a[i].trim();}a=a.join(' ');if(temporaryTodos[index].isCompleted){a='x '+a;}current_string[index]=a;localStorage.setItem(key,JSON.stringify(current_string));}function updateTodoTagAtIndex(event,index){var temporaryTodos=_toConsumableArray(todos);temporaryTodos[index].tags=event.target.value;console.log(temporaryTodos[index]);setTodos(temporaryTodos);var current_string=JSON.parse(localStorage.getItem(key));var a=current_string[index];a=a.split('@');var c=a.shift();// this is todo content\nvar t='';// this is new tag content\nvar tags=temporaryTodos[index].tags.split(',');var _iterator5=_createForOfIteratorHelper(tags),_step5;try{for(_iterator5.s();!(_step5=_iterator5.n()).done;){var tag=_step5.value;t=t+\" @\"+tag;}}catch(err){_iterator5.e(err);}finally{_iterator5.f();}var n=c+t;if(temporaryTodos[index].tags===\"\"){n=c;}// if all tags are removed, delete trailing @\nn=n.replace(/\\s\\s/g,' ');// remove excessive white space \ncurrent_string[index]=n;localStorage.setItem(key,JSON.stringify(current_string));}function toggleTodoCompleteAtIndex(index){var temporaryTodos=_toConsumableArray(todos);temporaryTodos[index].isCompleted=!temporaryTodos[index].isCompleted;setTodos(temporaryTodos);if(temporaryTodos[index].isCompleted){var current_string=JSON.parse(localStorage.getItem(key));current_string[index]=\"x \"+current_string[index];localStorage.setItem(key,JSON.stringify(current_string));}else{var cs=JSON.parse(localStorage.getItem(key));cs[index]=cs[index].slice(2);localStorage.setItem(key,JSON.stringify(cs));}// handles un-complete\n}return/*#__PURE__*/React.createElement(\"div\",{className:\"app\"},/*#__PURE__*/React.createElement(\"div\",{className:\"header\"},/*#__PURE__*/React.createElement(\"img\",{src:logo,className:\"logo\",alt:\"logo\"})),/*#__PURE__*/React.createElement(CreateTodo,null),/*#__PURE__*/React.createElement(\"div\",{className:\"todo-container\"},/*#__PURE__*/React.createElement(\"form\",{className:\"todo-form\",autoComplete:\"off\"},/*#__PURE__*/React.createElement(\"ul\",null,todos.map(function(todo,i){return/*#__PURE__*/React.createElement(\"div\",{key:todo.content+'_'+todo.tags,className:\"todo \".concat(todo.isCompleted&&'todo-is-completed')},/*#__PURE__*/React.createElement(\"div\",{className:'checkbox',onClick:function onClick(){return toggleTodoCompleteAtIndex(i);}},todo.isCompleted&&/*#__PURE__*/React.createElement(\"span\",null,\"\\u2714\")),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"display-input\",value:todo.content,onChange:function onChange(event){return updateTodoAtIndex(event,i);}}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"display-input\",value:todo.tags,onChange:function onChange(event){return updateTodoTagAtIndex(event,i);}}));})))));}export default App;","map":{"version":3,"sources":["C:/Users/jocel/Desktop/simple-todo-application/my-app/src/App.js"],"names":["React","useState","App","key","defaultValue","content","tags","isCompleted","undefined","stored","localStorage","getItem","todo_txt","initial_todo","stored_value","JSON","parse","value","this_object","startsWith","slice","splitted","split","map","v","trim","shift","length","join","push","this_string","tag","setItem","stringify","todos","setTodos","CreateTodo","newTodos","handleSubmit","event","preventDefault","new_content","target","todo_item","new_tags","todo_tag","current_string","updateTodoAtIndex","index","temporaryTodos","a","i","updateTodoTagAtIndex","console","log","c","t","n","replace","toggleTodoCompleteAtIndex","cs","logo","todo"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n\n  const key = 'my_todo_tasks';\n\n  const defaultValue = [\n    {\n      content: 'Complete Assignment 2',\n      tags: 'grading,ischool',\n      isCompleted: false,\n    },\n    {\n      content: 'Complete Lab 3',\n      tags: undefined,\n      isCompleted: false,\n    }\n  ];\n\n  const stored = localStorage.getItem(key);\n\n  var todo_txt = [];\n  var initial_todo;\n\n  if (stored) {\n    const stored_value = JSON.parse(stored);\n\n    initial_todo = [];\n\n    for (var value of stored_value) {\n      var this_object = {};\n\n      if (value.startsWith(\"x \")) {\n        this_object.isCompleted = true;\n\n        value = value.slice(2);\n      }\n\n      var splitted = value.split('@').map(v => v.trim());\n\n      this_object.content = splitted.shift();\n\n      if (splitted.length > 0) {\n        var tags = splitted.join();\n        this_object.tags = tags;\n      }\n\n      initial_todo.push(this_object);\n    }\n\n  } else {\n    initial_todo = defaultValue;\n\n    for (var v of initial_todo) {\n      var this_string = '';\n      if (v.isCompleted) {\n        this_string += 'x ';\n      }\n\n      this_string += v.content;\n\n      if (v.tags) {\n        const tags = v.tags.split(',');\n        for (var tag of tags) {\n          this_string = this_string + ' @' + tag;\n        }\n      }\n      todo_txt.push(this_string.trim());\n    }\n\n    localStorage.setItem(key, JSON.stringify(todo_txt));\n  };\n\n\n  const [todos, setTodos] = useState(initial_todo);\n\n  function CreateTodo() {\n    const newTodos = [...todos];\n\n    const handleSubmit = (event) => {\n      event.preventDefault();\n\n      const new_content = event.target.todo_item.value;\n      const new_tags = event.target.todo_tag.value;\n\n      if (new_content !== \"\") {\n        newTodos.push({\n          content: new_content,\n          tags: new_tags,\n          isCompleted: false,\n        }); // submitting an empty form will have no actual effect\n        setTodos(newTodos)\n\n        var current_string = JSON.parse(localStorage.getItem(key));\n\n        var this_string = '';\n\n        this_string += new_content;\n        this_string += ' ';\n\n        if (new_tags) {\n          const tags = new_tags.split(',');\n          for (var tag of tags) {\n            this_string = this_string + '@' + tag + ' ';\n          }\n        }\n        current_string.push(this_string.trim());\n\n        localStorage.setItem(key, JSON.stringify(current_string));\n      }\n    };\n\n    return (\n      <div className=\"todo-container\">\n        <form onSubmit={handleSubmit} className=\"todo-form\" autoComplete=\"off\">\n          <input className=\"td-input\" type=\"text\" name=\"todo_item\" placeholder=\"I need to...\" />\n          <br />\n          <input className=\"td-input\" type=\"text\" name=\"todo_tag\" placeholder=\"tag1,tag2...(Optional)\" />\n          <button type=\"submit\" className=\"custom-button\">Add</button>\n        </form>\n      </div>\n    );\n  }\n\n  function updateTodoAtIndex(event, index) {\n    const temporaryTodos = [...todos];\n    temporaryTodos[index].content = event.target.value;\n    setTodos(temporaryTodos);\n\n    var current_string = JSON.parse(localStorage.getItem(key));\n    var a = current_string[index];\n    a = a.split('@');\n    a[0] = temporaryTodos[index].content;\n\n    for (var i = 1; i < a.length; i++) {\n      a[i] = '@' + a[i];\n      a[i] = a[i].trim();\n    }\n\n    a = a.join(' ');\n\n    if (temporaryTodos[index].isCompleted) {\n      a = 'x ' + a;\n    }\n\n    current_string[index] = a;\n    localStorage.setItem(key, JSON.stringify(current_string));\n  }\n\n  function updateTodoTagAtIndex(event, index) {\n    const temporaryTodos = [...todos];\n    temporaryTodos[index].tags = event.target.value;\n    console.log(temporaryTodos[index]);\n    setTodos(temporaryTodos);\n\n    var current_string = JSON.parse(localStorage.getItem(key));\n    var a = current_string[index];\n    a = a.split('@');\n    var c = a.shift(); // this is todo content\n    var t = ''; // this is new tag content\n\n    let tags = temporaryTodos[index].tags.split(',');\n    for (var tag of tags) {\n      t = t + \" @\" + tag;\n    }\n\n    var n = c + t;\n\n    if (temporaryTodos[index].tags === \"\") {\n      n = c;\n    } // if all tags are removed, delete trailing @\n\n    n = n.replace(/\\s\\s/g, ' '); // remove excessive white space \n\n    current_string[index] = n;\n    localStorage.setItem(key, JSON.stringify(current_string));\n  }\n\n\n  function toggleTodoCompleteAtIndex(index) {\n    const temporaryTodos = [...todos];\n    temporaryTodos[index].isCompleted = !temporaryTodos[index].isCompleted;\n    setTodos(temporaryTodos);\n\n    if (temporaryTodos[index].isCompleted) {\n      var current_string = JSON.parse(localStorage.getItem(key));\n      current_string[index] = \"x \" + current_string[index];\n      localStorage.setItem(key, JSON.stringify(current_string));\n    } else {\n      var cs = JSON.parse(localStorage.getItem(key));\n      cs[index] = cs[index].slice(2);\n      localStorage.setItem(key, JSON.stringify(cs));\n    } // handles un-complete\n\n  }\n\n  return (\n    <div className=\"app\">\n      <div className=\"header\">\n        <img src={logo} className=\"logo\" alt=\"logo\" />\n      </div>\n      <CreateTodo />\n      <div className=\"todo-container\">\n        <form className=\"todo-form\" autoComplete=\"off\">\n          <ul>\n            {todos.map((todo, i) => (\n              <div key={todo.content + '_' + todo.tags} className={`todo ${todo.isCompleted && 'todo-is-completed'}`}>\n                <div className={'checkbox'} onClick={() => toggleTodoCompleteAtIndex(i)}>\n                  {todo.isCompleted && (\n                    <span>&#x2714;</span>\n                  )}\n                </div>\n                <input\n                  type=\"text\"\n                  className=\"display-input\"\n                  value={todo.content}\n                  onChange={event => updateTodoAtIndex(event, i)}\n                />\n                <br />\n                <input\n                  type=\"text\"\n                  className=\"display-input\"\n                  value={todo.tags}\n                  onChange={event => updateTodoTagAtIndex(event, i)}\n                />\n              </div>\n            ))}\n          </ul>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}